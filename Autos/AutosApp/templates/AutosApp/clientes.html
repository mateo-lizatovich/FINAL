{% extends 'AutosApp/base.html' %}

{% load static %}

{% block tituloPagina %}
Concesionario - Clientes
{% endblock %}

{% block contenidoPagina %}
<section class="bg-light py-5">
    <div class="container px-5">

<body>
    <h1>Autos vendidos</h1>
    <h3>Lista de clientes </h3>
    <br>
    <div class="row gx-5 justify-content-center">
        <div class="col-lg-12">
            <form class="d-flex my-2 my-lg-0" action="" method="post">
                {% csrf_token %}
                <input class="flex-grow-0 form-control mr-sm-2" type="search" name="search" placeholder="Buscar por nombre" aria-label="Search">
                <button class="btn btn-outline-success text-nowrap ms-3 my-2 my-sm-0" type="submit"> <i class="bi bi-search"></i> Buscar</button>
                
                <a class="btn btn-outline-success text-nowrap ms-3 my-2 my-sm-0" href="{% url 'crear_cliente' %}"> <i class="bi bi-plus-lg"></i> Agregar cliente</a>
                
            </form>
        </div>
    </div>
    <br>
    <h4>Resultados
        {% if search %}
            para "{{busqueda}}":
        {% else %}
            totales:
        {% endif %}
    </h4>
    <div class="row gx-5 justify-content-center">
        <div class="col-lg-10 table-responsive">
            <table class="table table-dark table-striped">
                <thead>
                    <td> Nombre </td>
                    <td> Apellido </td>
                    <td> Auto comprado </td>
                    <td> Vendedor </td>            
                </thead>
                {% for cliente in clientes %}
                <tr>
                    <td> {{cliente.nombre}} </td>
                    <td> {{cliente.apellido}} </td>
                    <td> {{cliente.auto_comprado}} </td>
                    <td> {{cliente.vendedor_nombre}} </td>
                </tr>
                {% endfor %}
            </table>
            <br><br>
        </div>
    </div>
</body>
</html>
{% endblock %}